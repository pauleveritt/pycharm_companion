<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Class Components With Props</title>
    
        <link rel="icon"
              href="../../../_static/jetbrains_favicon.ico"/>
    
    <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css"
          rel="stylesheet">
    <script src="../../../_static/kaybee_bulma.bundle.js"></script>
    <script src="../../../_static/app.bundle.js"></script>
</head>
<body>

<section>
    <nav id="kbb-navbar" class="navbar is-success"
     role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
        <a class="navbar-item" href="../../../index.html">
            
            <img src="../../../_static/PyCharm_Logo.svg.png"
                 alt="PyCharm Logo Alt">
        </a>
        <button class="button navbar-burger" data-target="navMenu">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>
    <div class="navbar-menu" id="navMenu">
        <div class="navbar-start">
            
                <a class="navbar-item"
                   href="../../../tips/index.html">
                    Tips
                </a>
            
                <a class="navbar-item is-active"
                   href="../../index.html">
                    Tutorials
                </a>
            
                <a class="navbar-item"
                   href="../../../articles/index.html">
                    Articles
                </a>
            
                <a class="navbar-item"
                   href="../../../blogposts/index.html">
                    Blog Posts
                </a>
            
                <a class="navbar-item"
                   href="../../../webinars/index.html">
                    Webinars
                </a>
            
                <a class="navbar-item"
                   href="../../../technologies/index.html">
                    Technologies
                </a>
            
                <a class="navbar-item"
                   href="../../../topics/index.html">
                    Topics
                </a>
            
                <a class="navbar-item"
                   href="../../../authors/index.html">
                    Authors
                </a>
            

        </div>

        <div class="navbar-end">
            
            
        </div>
    </div>
</nav>
</section>
<section
        class="hero is-success"
        style="">
    <div class="hero-head">
    </div>
    
</section>

<section class="section content tutorialstep"
         id="kbb-sphinx-body">
    
    <div class="container">
        <div class="columns">
            <div class="column sb_body">
                <nav class="breadcrumb has-arrow-separator is-small"
                     aria-label="breadcrumbs"
                     style="margin-bottom: 0">
                    <ul style="margin-left: 0">
                        
                            <li>
                                <a href="../../index.html">Tutorials</a>
                            </li>
                        
                            <li>
                                <a href="../index.html">React+TypeScript QuickStart</a>
                            </li>
                        
                        <li class="is-active">
                            <a href="#"
                               aria-current="page">Class Components With Props</a>
                        </li>
                    </ul>
                </nav>
                <div class="title is-1">
                    Class Components With Props
                    
    <span style="background-color: orange; color: white; font-weight: bold;
    font-size: x-small; padding: 0.5em; vertical-align: middle;
    border-radius: 25px">PRO ONLY</span>

                </div>

                <div class="subtitle is-4">Make a simple class component with a single prop, again with a TypeScript interface describing the props.</div>

                

                <div id="kbb-sphinx-body" class="content"><div class="section" id="class-components-with-props">
<h1>Class Components With Props<a class="headerlink" href="#class-components-with-props" title="Permalink to this headline">¶</a></h1>
<p>In the previous step we made a “dumb” presentational component with one
property. In React, components can have properties and state. When they
have state (or when they need access to React’s lifecycle methods), we use
a class-based component instead.</p>
<p>We’re going to build a stateful counter component. Each click increments the
click count, with the current count value stored in local component state.
The <code class="docutils literal notranslate"><span class="pre">&lt;Counter/&gt;</span></code> component will be passed in some props. In this step,
we’ll show component props – as done with a function in the previous
step – for class-based components. We’ll do state in the next step.</p>
<div class="section" id="first-a-test">
<h2>First a Test<a class="headerlink" href="#first-a-test" title="Permalink to this headline">¶</a></h2>
<p>This tutorial series shows component development using testing instead of a
browser. Let’s write a broken test first, then do the implementation which
fixes the test.</p>
<p>Make a new file called <code class="docutils literal notranslate"><span class="pre">Counter.test.tsx</span></code> with this test:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should render a counter&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">shallow</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Counter</span><span class="o">/&gt;</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.counter label&#39;</span><span class="p">).</span><span class="nx">text</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;Count&#39;</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
<p>It has several failures. For now, just click on <code class="docutils literal notranslate"><span class="pre">shallow</span></code> and hit
<code class="docutils literal notranslate"><span class="pre">Alt-Enter</span></code> to generate that import.</p>
<p>Now create a file <code class="docutils literal notranslate"><span class="pre">Counter.tsx</span></code>. We’ll make it very simple to start:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kr">class</span> <span class="nx">Counter</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
    <span class="kr">public</span> <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&quot;counter&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span><span class="nx">Count</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="mi">1</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">Counter</span><span class="p">;</span>
</pre></div>
</div>
<p>Back in our test, click on <code class="docutils literal notranslate"><span class="pre">&lt;Counter/&gt;</span></code> and hit <code class="docutils literal notranslate"><span class="pre">Alt-Enter</span></code>. Your import
is generated, but there’s still an error: React isn’t imported. Repeat the
<code class="docutils literal notranslate"><span class="pre">Alt-Enter</span></code> to generate the React import. Save the file and see that your
test passes.</p>
<p>Not a bad first step.</p>
</div>
<div class="section" id="pass-in-a-prop">
<h2>Pass In a Prop<a class="headerlink" href="#pass-in-a-prop" title="Permalink to this headline">¶</a></h2>
<p>As we did in the <a class="reference internal" href="../props/index.html"><span class="doc">previous section</span></a>, we’ll do our
work first in the test. We’ll write a failing test, then fix our “wrapper”
component, then fix the actual implementation. Also, we’ll presume that the
component has a default label.</p>
<p>Thus, let’s add a test for the case of passing in a label:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should render a counter with custom label&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">shallow</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Counter</span> <span class="nx">label</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Current&#39;</span><span class="p">}</span><span class="o">/&gt;</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.counter label&#39;</span><span class="p">).</span><span class="nx">text</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;Current&#39;</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
<p>The test fails, which is good. What’s even better – TypeScript helped us
“fail faster”. Before running the test, it told us we broke the contract
saying no properties were expected. Even better, our IDE visually warned us
with a very specific mouseover message.</p>
<p>Let’s now work on the implementation. Classes handle props with defaults a
little differently:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kr">class</span> <span class="nx">Counter</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="o">&lt;</span><span class="p">{</span> <span class="nx">label?</span>: <span class="kt">string</span> <span class="p">}</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kr">public</span> <span class="kr">static</span> <span class="nx">defaultProps</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Count&#39;</span>
    <span class="p">};</span>
</pre></div>
</div>
<p>Remember the <code class="docutils literal notranslate"><span class="pre">?</span></code> means an optional field in the interface. Now make the
<code class="docutils literal notranslate"><span class="pre">&lt;label&gt;</span></code> dynamic:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">label</span><span class="p">}&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>When you save <code class="docutils literal notranslate"><span class="pre">Counter.tsx</span></code>, your tests will now pass.</p>
<p>As we saw in the previous step, it’s nicer to put the props type information
into its own interface. Let’s extract that into <code class="docutils literal notranslate"><span class="pre">ICounterProps</span></code>:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kr">interface</span> <span class="nx">ICounterProps</span> <span class="p">{</span>
    <span class="nx">label?</span>: <span class="kt">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">Counter</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="o">&lt;</span><span class="nx">ICounterProps</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kr">public</span> <span class="kr">static</span> <span class="nx">defaultProps</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Count&#39;</span>
    <span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="wire-into-ui">
<h2>Wire Into UI<a class="headerlink" href="#wire-into-ui" title="Permalink to this headline">¶</a></h2>
<p>We have a <code class="docutils literal notranslate"><span class="pre">&lt;Counter/&gt;</span></code> prop that takes an optional label. Tests pass. Let’s
now use it in our app and view it in the browser.</p>
<p>Open <code class="docutils literal notranslate"><span class="pre">App.tsx</span></code> and change the TSX that is returned:</p>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span><span class="kr">public</span> <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">Heading</span><span class="p">/&gt;</span>
            <span class="p">&lt;</span><span class="nt">Counter</span> <span class="na">label</span><span class="o">=</span><span class="s">{&#39;Current&#39;}/</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Did you notice the autocompletion by the IDE, which knew there was a component
with a name starting with those letters, somewhere in the project? And when
you accepted the completion, it generated the import? Also, the IDE helped
on the available props and the types for those props.</p>
<p>All of our tests still pass. Let’s change the
<code class="docutils literal notranslate"><span class="pre">renders</span> <span class="pre">the</span> <span class="pre">app</span> <span class="pre">and</span> <span class="pre">the</span> <span class="pre">heading</span></code> test in``App.test.tsx`` to look for the
label in the new <code class="docutils literal notranslate"><span class="pre">&lt;Counter/&gt;</span></code> child component:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;renders the app and the heading&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">mount</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span><span class="o">/&gt;</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">).</span><span class="nx">text</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;Hello React&#39;</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.counter label&#39;</span><span class="p">).</span><span class="nx">text</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&#39;Current&#39;</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Let’s restart the <code class="docutils literal notranslate"><span class="pre">start</span></code> script and look at the UI in the browser. We
should now see <code class="docutils literal notranslate"><span class="pre">Current</span> <span class="pre">1</span></code> in the UI.</p>
<p>While this step didn’t do too much that was new – after all, we had optional
props and interfaces in the previous step, with functions – it paves the
way for stateful components.</p>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
</div>
</div>
</div>

            </div>

            <div class="column is-3">
                <aside id="sidebarCollapseTarget" class="menu kbb-sidenav">

    <div id="kb-sidenav-published-heading">
    

    
        <p class="menu-label">
            Published
        </p>
        <ul class="menu-list">
            <li>
                Published on
                2018-02-26
                at
                12:00
                
                    by:
                    
                        <a href="../../../authors/pauleveritt/index.html">
                            <figure class="image is-rounded is-24x24"
                                    style="display: inline-block; margin: 0.5rem">
                                <img src="../../../authors/pauleveritt/paul_headshotx24.jpeg">
                            </figure>
                            <span
                                    style="display: inline-block; vertical-align: super">Paul Everitt</span>
                        </a>
                    
                
            </li>
        </ul>
    
</div>
    
    <p class="menu-label">
        Previous
    </p>
    <ul class="menu-list">
        <a href="../props/index.html"
           title="previous chapter">Sharing Component Props Using Type Information</a>
    </ul>



    <p class="menu-label">
        Next
    </p>
    <ul class="menu-list">
        <a href="../class_state/index.html"
           title="next chapter">Model Class State With TypeScript Interfaces</a>
    </ul>


    
    

    
        <div>
            <p class="menu-label">
                <span style="text-transform: uppercase">technology</span>
            </p>
            <p>
                
                    <a href="../../../technologies/react.html">
                        <span class="tag">react</span>
                    </a>
                
            </p>
        </div>
    



    <p class="menu-label">
        Tutorial Steps
    </p>

    <ul class="steps is-vertical is-small menu-list">
        
        
            
            
            
            <li class="steps-segment">
            <span href="../project_setup/index.html"
                  class="steps-marker is-primary">1</span>
                <div class="steps-content">
                    <a href="../project_setup/index.html">Project Setup</a>
                </div>
            </li>
        
            
            
            
            <li class="steps-segment">
            <span href="../project_cleanup/index.html"
                  class="steps-marker is-primary">2</span>
                <div class="steps-content">
                    <a href="../project_cleanup/index.html">Project Cleanup</a>
                </div>
            </li>
        
            
            
            
            <li class="steps-segment">
            <span href="../styling/index.html"
                  class="steps-marker is-primary">3</span>
                <div class="steps-content">
                    <a href="../styling/index.html">Styling with TSLint</a>
                </div>
            </li>
        
            
            
            
            <li class="steps-segment">
            <span href="../testing/index.html"
                  class="steps-marker is-primary">4</span>
                <div class="steps-content">
                    <a href="../testing/index.html">Unit Testing with Jest and Enzyme</a>
                </div>
            </li>
        
            
            
            
            <li class="steps-segment">
            <span href="../nodejs_debugging/index.html"
                  class="steps-marker is-primary">5</span>
                <div class="steps-content">
                    <a href="../nodejs_debugging/index.html">Debugging During Testing With NodeJS</a>
                </div>
            </li>
        
            
            
            
            <li class="steps-segment">
            <span href="../chrome_debugging/index.html"
                  class="steps-marker is-primary">6</span>
                <div class="steps-content">
                    <a href="../chrome_debugging/index.html">Debugging JSX With Chrome</a>
                </div>
            </li>
        
            
            
            
            <li class="steps-segment">
            <span href="../jsx_es6/index.html"
                  class="steps-marker is-primary">7</span>
                <div class="steps-content">
                    <a href="../jsx_es6/index.html">JSX and ES6</a>
                </div>
            </li>
        
            
            
            
            <li class="steps-segment">
            <span href="../functional_components/index.html"
                  class="steps-marker is-primary">8</span>
                <div class="steps-content">
                    <a href="../functional_components/index.html">Functional React Components in TypeScript</a>
                </div>
            </li>
        
            
            
            
            <li class="steps-segment">
            <span href="../props/index.html"
                  class="steps-marker is-primary">9</span>
                <div class="steps-content">
                    <a href="../props/index.html">Sharing Component Props Using Type Information</a>
                </div>
            </li>
        
            
            
            
            <li class="steps-segment">
            <span href="#"
                  class="steps-marker is-info">10</span>
                <div class="steps-content">
                    <a href="#">Class Components With Props</a>
                </div>
            </li>
        
            
            
            
            <li class="steps-segment">
            <span href="../class_state/index.html"
                  class="steps-marker is-primary">11</span>
                <div class="steps-content">
                    <a href="../class_state/index.html">Model Class State With TypeScript Interfaces</a>
                </div>
            </li>
        
            
            
            
            <li class="steps-segment">
            <span href="../rich_events_and_testing/index.html"
                  class="steps-marker is-primary">12</span>
                <div class="steps-content">
                    <a href="../rich_events_and_testing/index.html">Rich Events and Testing</a>
                </div>
            </li>
        
            
            
            
            <li class="steps-segment">
            <span href="../presentation_components/index.html"
                  class="steps-marker is-primary">13</span>
                <div class="steps-content">
                    <a href="../presentation_components/index.html">Presentation and Container Components</a>
                </div>
            </li>
        
            
            
            
            <li class="steps-segment">
            <span href="../routing/index.html"
                  class="steps-marker is-primary">14</span>
                <div class="steps-content">
                    <a href="../routing/index.html">TypeScript and Routing With Testing</a>
                </div>
            </li>
        
    </ul>

</aside>
            </div>
        </div>
    </div>

</section>

<footer class="footer is-success">
    <div class="container">
        <div class="content has-text-centered">
            <p>
                Powered by Kaybee, which uses
                <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a>,
                <a href="http://bulma.io">Bulma</a>,
                <a href="http://dectate.readthedocs.io/en/latest/">Dectate</a>,
                <a href="https://pydantic-docs.helpmanual.io">pydantic</a>,
                and more.
            </p>
            <p id="kb-config-copyright">
                &copy; 2018, All Rights Reserved
            </p>
        </div>
    </div>
</footer>
<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT: '',
        VERSION: '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
    };
</script>

</body>
</html>
